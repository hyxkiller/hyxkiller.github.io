---
title: 数组方法知识点
date: 2019-04-08 15:16:13
tags: 前端
categories: 前端
---

### forEach  
无返回值，不支持链式调用。  
可改变数组中引用类型的数据，不可改变值类型的数据。
```
var arr1 = [
    {name:'A',age:16},
    {name:'B',age:17}
];
var arr2 = [1,2,3];

arr1.forEach(item => { 
    item.age = item.age + 1
}); 
// [{name:'A',age:17},{name:'B',age:18}]

arr2.forEach(item => {
    item = item * 2
});
// [1,2,3]
```

### map      
原始数组无变化，必须有return(jsx中数组循环返回Dom都用map的原因)。     
需要注意的是，如果做过滤处理，是行不通的。
```
let arr = [1,2,3,4,5].map(item => { if(item > 3) return item })
// [undefined, undefined, undefined, 4, 5]
```

### filter   
筛选过滤

### some  
返回值为bool

### every    
返回值为bool

### sort     
与map、filter不同的一点是，会改变原数组。   
按Unicode码排序。

### findIndex    
可中断遍历，并返回相应需求的下标。
```
let arr = [{name:'A',age:16},{name:'B',age:17},{    name:'C',age:18}]
let index = arr.findIndex(item => item.age > 16 );
// 1
```
### find     
可中断遍历，并返回符合条件的整个元素。
```
let arr = [{name:'A',age:16},{name:'B',age:17},{    name:'C',age:18}]
let item = arr.find(item => item.age > 16 );
// {name:'B',age:17}
```
### Set  
1. 只可对值类型的数据进行去重
```
let mySet = new Set();
mySet.add(1); // Set(1) {1}
mySet.add(2); // Set(2) {1, 2}
mySet.add(2); // Set(2) {1, 2} // 值类型唯一
mySet.add('text'); 
[...mySet] // [1,5,'text']

mySet.add({name:'ha',age:18});
mySet.add({name:'ha',age:18});
[...mySet] // [1,5,'text',{name:'ha',age:18},{name:'ha',age:18}]
```
2. 引用类型去重方案
```
Lodash的_.uniqWith()方法
```

###  数组的哪些API会改变原数组？
1. 修改原数组的API有: ``splice, reverse, fill, copyWithin, sort, push, pop, unshift, shift``
2. 不修改原数组的API有: ``slice, map, forEach, every, filter, reduce, entry, entries, find``
